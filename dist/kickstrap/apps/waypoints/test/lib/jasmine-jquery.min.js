var readFixtures=function(){return jasmine.getFixtures().proxyCallTo_("read",arguments)},preloadFixtures=function(){jasmine.getFixtures().proxyCallTo_("preload",arguments)},loadFixtures=function(){jasmine.getFixtures().proxyCallTo_("load",arguments)},appendLoadFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendLoad",arguments)},setFixtures=function(e){jasmine.getFixtures().proxyCallTo_("set",arguments)},appendSetFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendSet",arguments)},sandbox=function(e){return jasmine.getFixtures().sandbox(e)},spyOnEvent=function(e,t){return jasmine.JQuery.events.spyOn(e,t)};jasmine.spiedEventsKey=function(e,t){return[$(e).selector,t].toString()};jasmine.getFixtures=function(){return jasmine.currentFixtures_=jasmine.currentFixtures_||new jasmine.Fixtures};jasmine.Fixtures=function(){this.containerId="jasmine-fixtures";this.fixturesCache_={};this.fixturesPath="spec/javascripts/fixtures"};jasmine.Fixtures.prototype.set=function(e){this.cleanUp();this.createContainer_(e)};jasmine.Fixtures.prototype.appendSet=function(e){this.addToContainer_(e)};jasmine.Fixtures.prototype.preload=function(){this.read.apply(this,arguments)};jasmine.Fixtures.prototype.load=function(){this.cleanUp();this.createContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.appendLoad=function(){this.addToContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.read=function(){var e=[],t=arguments;for(var n=t.length,r=0;r<n;r++)e.push(this.getFixtureHtml_(t[r]));return e.join("")};jasmine.Fixtures.prototype.clearCache=function(){this.fixturesCache_={}};jasmine.Fixtures.prototype.cleanUp=function(){jQuery("#"+this.containerId).remove()};jasmine.Fixtures.prototype.sandbox=function(e){var t=e||{};return jQuery('<div id="sandbox" />').attr(t)};jasmine.Fixtures.prototype.createContainer_=function(e){var t;if(e instanceof jQuery){t=jQuery('<div id="'+this.containerId+'" />');t.html(e)}else t='<div id="'+this.containerId+'">'+e+"</div>";jQuery("body").append(t)};jasmine.Fixtures.prototype.addToContainer_=function(e){var t=jQuery("body").find("#"+this.containerId).append(e);t.length||this.createContainer_(e)};jasmine.Fixtures.prototype.getFixtureHtml_=function(e){typeof this.fixturesCache_[e]=="undefined"&&this.loadFixtureIntoCache_(e);return this.fixturesCache_[e]};jasmine.Fixtures.prototype.loadFixtureIntoCache_=function(e){var t=this.makeFixtureUrl_(e),n=new XMLHttpRequest;n.open("GET",t+"?"+(new Date).getTime(),!1);n.send(null);this.fixturesCache_[e]=n.responseText};jasmine.Fixtures.prototype.makeFixtureUrl_=function(e){return this.fixturesPath.match("/$")?this.fixturesPath+e:this.fixturesPath+"/"+e};jasmine.Fixtures.prototype.proxyCallTo_=function(e,t){return this[e].apply(this,t)};jasmine.JQuery=function(){};jasmine.JQuery.browserTagCaseIndependentHtml=function(e){return jQuery("<div/>").append(e).html()};jasmine.JQuery.elementToString=function(e){var t=$(e).get(0);return t==undefined||t.cloneNode?jQuery("<div />").append($(e).clone()).html():e.toString()};jasmine.JQuery.matchersClass={};!function(e){var t={spiedEvents:{},handlers:[]};e.events={spyOn:function(e,n){var r=function(r){t.spiedEvents[jasmine.spiedEventsKey(e,n)]=r};jQuery(e).bind(n,r);t.handlers.push(r);return{selector:e,eventName:n,handler:r,reset:function(){delete t.spiedEvents[jasmine.spiedEventsKey(e,n)]}}},wasTriggered:function(e,n){return!!t.spiedEvents[jasmine.spiedEventsKey(e,n)]},wasPrevented:function(e,n){return t.spiedEvents[jasmine.spiedEventsKey(e,n)].isDefaultPrevented()},cleanUp:function(){t.spiedEvents={};t.handlers=[]}}}(jasmine.JQuery);!function(){var e={toHaveClass:function(e){return this.actual.hasClass(e)},toHaveCss:function(e){for(var t in e)if(this.actual.css(t)!==e[t])return!1;return!0},toBeVisible:function(){return this.actual.is(":visible")},toBeHidden:function(){return this.actual.is(":hidden")},toBeSelected:function(){return this.actual.is(":selected")},toBeChecked:function(){return this.actual.is(":checked")},toBeEmpty:function(){return this.actual.is(":empty")},toExist:function(){return $(document).find(this.actual).length},toHaveAttr:function(e,n){return t(this.actual.attr(e),n)},toHaveProp:function(e,n){return t(this.actual.prop(e),n)},toHaveId:function(e){return this.actual.attr("id")==e},toHaveHtml:function(e){return this.actual.html()==jasmine.JQuery.browserTagCaseIndependentHtml(e)},toContainHtml:function(e){var t=this.actual.html(),n=jasmine.JQuery.browserTagCaseIndependentHtml(e);return t.indexOf(n)>=0},toHaveText:function(e){var t=$.trim(this.actual.text());return e&&jQuery.isFunction(e.test)?e.test(t):t==e},toHaveValue:function(e){return this.actual.val()==e},toHaveData:function(e,n){return t(this.actual.data(e),n)},toBe:function(e){return this.actual.is(e)},toContain:function(e){return this.actual.find(e).length},toBeDisabled:function(e){return this.actual.is(":disabled")},toBeFocused:function(e){return this.actual.is(":focus")},toHandle:function(e){var t=this.actual.data("events");if(!t||!e||typeof e!="string")return!1;var n=e.split("."),r=n.shift(),i=n.slice(0).sort(),s=new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)");if(!t[r]||!n.length)return t[r]&&t[r].length>0;for(var o=0;o<t[r].length;o++){var u=t[r][o].namespace;if(s.test(u))return!0}},toHandleWith:function(e,t){var n=this.actual.data("events")[e];for(var r=0;r<n.length;r++)if(n[r].handler==t)return!0;return!1}},t=function(e,t){return t===undefined?e!==undefined:e==t},n=function(t){var n=jasmine.Matchers.prototype[t];jasmine.JQuery.matchersClass[t]=function(){if(this.actual&&(this.actual instanceof jQuery||jasmine.isDomNode(this.actual))){this.actual=$(this.actual);var r=e[t].apply(this,arguments),i;this.actual.get&&(i=this.actual.get()[0])&&!$.isWindow(i)&&i.tagName!=="HTML"&&(this.actual=jasmine.JQuery.elementToString(this.actual));return r}return n?n.apply(this,arguments):!1}};for(var r in e)n(r)}();beforeEach(function(){this.addMatchers(jasmine.JQuery.matchersClass);this.addMatchers({toHaveBeenTriggeredOn:function(e){this.message=function(){return["Expected event "+this.actual+" to have been triggered on "+e,"Expected event "+this.actual+" not to have been triggered on "+e]};return jasmine.JQuery.events.wasTriggered(e,this.actual)}});this.addMatchers({toHaveBeenTriggered:function(){var e=this.actual.eventName,t=this.actual.selector;this.message=function(){return["Expected event "+e+" to have been triggered on "+t,"Expected event "+e+" not to have been triggered on "+t]};return jasmine.JQuery.events.wasTriggered(t,e)}});this.addMatchers({toHaveBeenPreventedOn:function(e){this.message=function(){return["Expected event "+this.actual+" to have been prevented on "+e,"Expected event "+this.actual+" not to have been prevented on "+e]};return jasmine.JQuery.events.wasPrevented(e,this.actual)}});this.addMatchers({toHaveBeenPrevented:function(){var e=this.actual.eventName,t=this.actual.selector;this.message=function(){return["Expected event "+e+" to have been prevented on "+t,"Expected event "+e+" not to have been prevented on "+t]};return jasmine.JQuery.events.wasPrevented(t,e)}})});afterEach(function(){jasmine.getFixtures().cleanUp();jasmine.JQuery.events.cleanUp()});